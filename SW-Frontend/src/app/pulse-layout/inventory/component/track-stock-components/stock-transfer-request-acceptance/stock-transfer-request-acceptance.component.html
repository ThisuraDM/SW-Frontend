<div class='container-xl px-4 mt-4'>
    <div class='card mb-4'>
        <div class='card-header'>Request Details</div>
        <div class='card-body'>
            <div class='col-sm-12 col-md-4 mb-4 ms-3'>
                <h6 class='fw-700 mb-3'>Stock Request Form</h6>
                <div class='row'>
                    <div class='d-flex justify-content-between mb-3'>
                        <div class='small'>Store ID</div>
                        <div
                            class='small fw-bold justify-content-end'>{{stockTransferDetails.destination_outlet_store_id}}</div>
                    </div>
                    <div class='d-flex justify-content-between'>
                        <div class='small'>Store Name</div>
                        <div
                            class='small fw-bold justify-content-end'>{{stockTransferDetails.destination_outlet_name}}</div>
                    </div>
                </div>
            </div>

            <div class='col-md-12 table-responsive'>
                <table class='table border rounded m-0'>
                    <thead class='thead-dark'>
                    <tr class='bg-primary text-white'>
                        <th class='p-3' scope='col'>Item Name</th>
                        <th class='p-3' scope='col'>SAP Material Code</th>
                        <th class='p-3' scope='col'>Requested Quantity</th>
                        <th class='p-3' scope='col'>Available Quantity</th>
                        <th class='p-3' scope='col'>Reserved Quantity</th>
                        <th class='p-3' scope='col'>Approved Quantity</th>
                    </tr>
                    </thead>
                    <tbody *ngIf='tableDataList?.length'>
                    <tr *ngFor='let outlet of tableDataList; let i = index'>
                        <td class='small'>{{outlet.item_name }}</td>
                        <td class='small'>{{outlet.sap_material_code }}</td>
                        <td class='small'>{{outlet.requested_quantity }}</td>
                        <td class='small'>{{outlet.available_quantity}}</td>
                        <td class='small'>{{outlet.reserved_quantity}}</td>
                        <td class='p-3'>
                            <input type='text' class='form-control col-1 input-h-1'
                                   [(ngModel)]='outlet.approved_quantity'>
                            <button class='btn btn-sm small input-all-btn'
                                    (click)='setAllRequestQty(i,outlet.requested_quantity)'>All
                            </button>
                            <label class='small fw-400 text-danger' *ngIf='!outlet.approved_quantity'>Required *</label>
                            <label class='small fw-400 text-danger' *ngIf='outlet.requested_quantity < outlet.approved_quantity'>Invalid *</label>
                        </td>
                    </tr>
                    </tbody>
                </table>
                <div class='card-footer' style='border-top: none;'>
                    <div class='row'>
                        <div class='col-md-9'>
                            <input class='form-control input-h-2' type='text' [(ngModel)]='remark'
                                   placeholder='Remarks (mandatory)'>
                        </div>
                        <div class='col-md-3 d-flex justify-content-between'>
                            <button class='btn btn-outline-primary col-6 me-2' type='button'
                                    [disabled]='remark.length <= 0' (click)='reject()'>Reject
                            </button>
                            <button class='btn btn-primary col-6' type='button'
                                    [disabled]='remark.length <= 0' (click)='approve()'>Approve
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
